<template>
  <div>
    <header class="header">
      <div class="header__container">
        <div class="header__logo"></div>
        <div class="header__subtitle">БАЙК-РОК ФЕСТИВАЛЬ</div>
        <div class="header__title">«ПРАВЫЙ БЕРЕГ 2023»</div>
      </div>
    </header>
    <div class="content">
      <div class="content__container">
        <div class="content__subtitle">Байк-Рок Фестивалю</div>
        <div class="content__title">"ПРАВЫЙ БЕРЕГ 2023"</div>
        <div class="content__text">БЫТЬ !</div>
      </div>
    </div>
    <div class="info">
      <div class="info__container">
        <div class="info__title">О ФЕСТИВАЛЕ</div>
        <div class="info__text">
          С 6 по 9 мая 2023 года, в Саратовской области, состоится байк-рок
          фестиваль <span>«Правый Берег»</span>. Ежегодно это событие собирает
          несколько тысяч любителей мотоциклов, рок-музыки и хорошего отдыха из
          России, стран СНГ и Европы
        </div>
        <div class="info__text">
          Живая музыка, байкерские конкурсы, масштабное театрализованное
          представление, огненное, световое, лазерное шоу, дружеская атмосфера,
          - все это фестиваль <span>"Правый Берег"</span>.
        </div>
        <a href="https://vk.com/motofest64" target="_blank" class="vk"
          ><svg
            class="t-sociallinks__svg"
            version="1.1"
            id="Layer_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            width="40px"
            height="40px"
            viewBox="0 0 48 48"
            enable-background="new 0 0 48 48"
            xml:space="preserve"
          >
            <desc>VK</desc>
            <path
              d="M41.2 22.2c.6-.8 1.1-1.5 1.5-2 2.7-3.5 3.8-5.8 3.5-6.8l-.2-.2c-.1-.1-.3-.3-.7-.4-.4-.1-.9-.1-1.5-.1h-7.2c-.2 0-.3 0-.3.1 0 0-.1 0-.1.1v.1c-.1 0-.2.1-.3.2-.1.1-.2.2-.2.4-.7 1.9-1.5 3.6-2.5 5.2-.6 1-1.1 1.8-1.6 2.5s-.9 1.2-1.2 1.5c-.3.3-.6.6-.9.8-.2.3-.4.4-.5.4-.1 0-.3-.1-.4-.1-.2-.1-.4-.3-.5-.6-.1-.2-.2-.5-.3-.9 0-.4-.1-.7-.1-.9v-1.1-1-1.9c0-.7 0-1.2.1-1.6v-1.3c0-.4 0-.8-.1-1.1-.1-.3-.1-.5-.2-.7-.1-.2-.3-.4-.5-.6-.2-.1-.5-.2-.8-.3-.8-.2-1.9-.3-3.1-.3-2.9 0-4.7.2-5.5.6-.3.2-.6.4-.9.7-.3.3-.3.5-.1.6.9.1 1.6.5 2 1l.1.3c.1.2.2.6.3 1.1.1.5.2 1.1.2 1.7.1 1.1.1 2.1 0 2.9-.1.8-.1 1.4-.2 1.9-.1.4-.2.8-.3 1.1-.1.3-.2.4-.3.5 0 .1-.1.1-.1.1-.1-.1-.4-.1-.6-.1-.2 0-.5-.1-.8-.3-.3-.2-.6-.5-1-.9-.3-.4-.7-.9-1.1-1.6-.4-.7-.8-1.5-1.3-2.4l-.4-.7c-.2-.4-.5-1.1-.9-1.9-.4-.8-.8-1.6-1.1-2.4-.1-.3-.3-.6-.6-.7l-.1-.1c-.1-.1-.2-.1-.4-.2s-.3-.1-.5-.2H3.2c-.6 0-1.1.1-1.3.4l-.1.1c0 .1-.1.2-.1.4s0 .4.1.6c.9 2.2 1.9 4.3 3 6.3s2 3.6 2.8 4.9c.8 1.2 1.6 2.4 2.4 3.5.8 1.1 1.4 1.8 1.7 2.1.3.3.5.5.6.7l.6.6c.4.4.9.8 1.6 1.3.7.5 1.5 1 2.4 1.5.9.5 1.9.9 3 1.2 1.2.3 2.3.4 3.4.4H26c.5 0 .9-.2 1.2-.5l.1-.1c.1-.1.1-.2.2-.4s.1-.4.1-.6c0-.7 0-1.3.1-1.8s.2-.9.4-1.2c.1-.3.3-.5.5-.7.2-.2.3-.3.4-.3.1 0 .1-.1.2-.1.4-.1.8 0 1.3.4s1 .8 1.4 1.3c.4.5 1 1.1 1.6 1.8.6.7 1.2 1.2 1.6 1.5l.5.3c.3.2.7.4 1.2.5.5.2.9.2 1.3.1l5.9-.1c.6 0 1-.1 1.4-.3.3-.2.5-.4.6-.6.1-.2.1-.5 0-.8-.1-.3-.1-.5-.2-.6-.1-.1-.1-.2-.2-.3-.8-1.4-2.2-3.1-4.4-5.1-1-.9-1.6-1.6-1.9-1.9-.5-.6-.6-1.2-.3-1.9.3-.5 1-1.5 2.2-3z"
            ></path></svg
        ></a>
      </div>
    </div>
    <div class="picture">
      <div class="picture__title">Как это было в 2019</div>
      <div class="picture__container">
        <img
          src="@/static/img/picture/1block.jpg"
          alt=""
          class="picture__img"
        />
        <div class="picture__item">
          <img
            src="@/static/img/picture/2block.jpg"
            alt=""
            class="picture__img picture__img--small"
          />
          <img
            src="@/static/img/picture/blok41.jpg"
            alt=""
            class="picture__img picture__img--small picture__img--mr"
          />
          <img
            src="@/static/img/picture/4block.jpg"
            alt=""
            class="picture__img picture__img--small"
          />
          <img
            src="@/static/img/picture/Fest1.jpg"
            alt=""
            class="picture__img picture__img--small picture__img--mr"
          />
        </div>
      </div>
      <div class="picture__container">
        <img src="@/static/img/picture/Fest2.jpg" alt="" class="picture__img" />
        <img
          src="@/static/img/picture/fest3.jpg"
          alt=""
          class="picture__img picture__img--mr"
        />
      </div>
      <img
        src="@/static/img/picture/5block.jpg"
        alt=""
        class="picture__img picture__img--big picture__img--mr"
      />
    </div>
    <div class="place">
      <div class="place__container">
        <div class="place__title">Место проведения</div>
        <div class="place__subtitle">
          В 2023 году фестиваль пройдет в ДОЦ "РОВЕСНИК" с 6-го по 9 мая.
        </div>
        <img src="@/static/img/picture/photo.png" alt="" class="place__img" />
        <div class="place__text">Схема размещения</div>
      </div>
    </div>
    <div class="map">
      <div class="map__container">
        <div class="map__map">
          <iframe
            src="https://yandex.ru/map-widget/v1/?um=constructor%3A99c488f9e05945a5063a555bc62b18da3410a04aa4a44470a11dcbcd712414d9&amp;source=constructor"
            width="100%"
            height="100%"
            frameborder="0"
          ></iframe>
        </div>
        <div class="map__item">
          <div class="map__title">Как добраться в ДОЦ "РОВЕСНИК"</div>
          <div class="map__text">
            Детский оздоровительный центр «Ровесник» расположен в живописном
            лесном массиве на волжском берегу близ села Орловское Марксовского
            района Саратовской области.
          </div>
        </div>
      </div>
    </div>
    <div class="timer">
      <div class="timer__container">
        <div class="timer__title">До старта фестиваля осталось</div>
        <div id="timer" class="timer__info">
          <div class="timer__item">
            <div class="days timer__item-number"></div>
            <div class="dayname timer__item-text">Дней</div>
          </div>
          <div class="timer__line"></div>
          <div class="timer__item">
            <div class="hours timer__item-number"></div>
            <div class="timer__item-text">Часов</div>
          </div>
          <div class="timer__line"></div>
          <div class="timer__item">
            <div class="minutes timer__item-number"></div>
            <div class="timer__item-text">Минут</div>
          </div>
          <div class="timer__line"></div>
          <div class="timer__item">
            <div class="seconds timer__item-number"></div>
            <div class="timer__item-text">Секунд</div>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="footer__container">
        <div class="footer__copiraited">© 2023</div>
        <div class="footer__logo"></div>
        <div class="footer__social">
          <a
            href="https://vk.com/motofest64"
            target="_blank"
            class="footer__social-vk"
          >
            <svg
              class="t-sociallinks__svg"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 48 48"
              enable-background="new 0 0 48 48"
              xml:space="preserve"
            >
              <desc>VK</desc>
              <path
                d="M47.761,24c0,13.121-10.639,23.76-23.76,23.76C10.878,47.76,0.239,37.121,0.239,24c0-13.123,10.639-23.76,23.762-23.76C37.122,0.24,47.761,10.877,47.761,24 M35.259,28.999c-2.621-2.433-2.271-2.041,0.89-6.25c1.923-2.562,2.696-4.126,2.45-4.796c-0.227-0.639-1.64-0.469-1.64-0.469l-4.71,0.029c0,0-0.351-0.048-0.609,0.106c-0.249,0.151-0.414,0.505-0.414,0.505s-0.742,1.982-1.734,3.669c-2.094,3.559-2.935,3.747-3.277,3.524c-0.796-0.516-0.597-2.068-0.597-3.171c0-3.449,0.522-4.887-1.02-5.259c-0.511-0.124-0.887-0.205-2.195-0.219c-1.678-0.016-3.101,0.007-3.904,0.398c-0.536,0.263-0.949,0.847-0.697,0.88c0.31,0.041,1.016,0.192,1.388,0.699c0.484,0.656,0.464,2.131,0.464,2.131s0.282,4.056-0.646,4.561c-0.632,0.347-1.503-0.36-3.37-3.588c-0.958-1.652-1.68-3.481-1.68-3.481s-0.14-0.344-0.392-0.527c-0.299-0.222-0.722-0.298-0.722-0.298l-4.469,0.018c0,0-0.674-0.003-0.919,0.289c-0.219,0.259-0.018,0.752-0.018,0.752s3.499,8.104,7.573,12.23c3.638,3.784,7.764,3.36,7.764,3.36h1.867c0,0,0.566,0.113,0.854-0.189c0.265-0.288,0.256-0.646,0.256-0.646s-0.034-2.512,1.129-2.883c1.15-0.36,2.624,2.429,4.188,3.497c1.182,0.812,2.079,0.633,2.079,0.633l4.181-0.056c0,0,2.186-0.136,1.149-1.858C38.281,32.451,37.763,31.321,35.259,28.999"
              ></path>
            </svg>
          </a>
        </div>
      </div>
    </footer>
  </div>
</template>

<script>
export default {
  mounted() {
    // Задаём конечную дату (Дедлайн)
    let deadline = "2023-05-06";

    // Сколько осталось времени
    function getTimeRemaining(endtime) {
      // Получаем разницу. Переводим конечную дату в миллисекунды и отнимаем текущую дату
      let t = Date.parse(endtime) - Date.now(),
        // Высчитываем секунды, минуты, часы и дни
        seconds = Math.floor((t / 1000) % 60),
        minutes = Math.floor((t / 1000 / 60) % 60),
        hours = Math.floor((t / 1000 / 60 / 60) % 24),
        days = Math.floor(t / 1000 / 60 / 60 / 24);

      return {
        total: t,
        seconds: seconds,
        minutes: minutes,
        hours: hours,
        days: days,
      };
    }

    // Форматируем и устанавливаем значения в разметку
    function setClock(id, endtime) {
      // Получаем блок таймера по его id
      let timer = document.getElementById(id),
        // И соотвественно, все элементы блока
        days = timer.querySelector(".days"),
        dayname = timer.querySelector(".dayname"),
        hours = timer.querySelector(".hours"),
        minutes = timer.querySelector(".minutes"),
        seconds = timer.querySelector(".seconds"),
        // Обновляем таймер каждую секунду
        timeInterval = setInterval(updateClock, 1000);

      // Функция для обновления таймера
      function updateClock() {
        // Помещаем в t результат функции getTimeRemaining (объект)
        let t = getTimeRemaining(endtime);
        // Если дней осталось 0 - не выводим
        if (t.days <= 0) {
          days.textContent = "";
          dayname.textContent = "";
        } else {
          days.textContent = t.days;
          // Вставляем слово "день" при этом форматируя (дней, дня)
          dayname.textContent = formatDays(t.days);
        }
        // Вставляем оставшееся время
        hours.textContent = formatTime(t.hours);
        minutes.textContent = formatTime(t.minutes);
        seconds.textContent = formatTime(t.seconds);

        // Если Дедлайн прошёл - вставляем в таймер 00:00:00,
        // и останавливаем отсчёт (clearInterval)
        if (t.total <= 0) {
          clearInterval(timeInterval);
          days.textContent = "";
          hours.textContent = "00";
          minutes.textContent = "00";
          seconds.textContent = "00";
        }
      }

      // Функция добавляет 0 к единцам, получаем
      // 03:04:05 вместо 3:4:5
      function formatTime(time) {
        if (time < 10) {
          time = "0" + time;
        }
        return time;
      }

      // Форматируем слово день в зависимости от числа
      // 1 день, 2 дня, 5 дней.
      function formatDays(day) {
        let sb = "",
          dayNew = day % 100,
          lastFigure = dayNew % 10;
        if (dayNew > 10 && dayNew < 20) {
          sb = "ей";
        } else if (lastFigure == 1) {
          sb = "день";
        } else if (lastFigure > 1 && lastFigure < 5) {
          sb = "дня";
        } else {
          sb = "дней";
        }
        return sb;
      }
    }

    //Вызов таймера. Передаём id элемента и наш Дедлайн
    setClock("timer", deadline);
  },
};
</script>
